using System;
using System.Linq;
using System.Collections.Generic;
using CurrentDesk.DAL;
using CurrentDesk.Models;

//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated from a template at 2/7/2013 12:43:51 PM
//	   and this file should not get overridden 
//
//     Add your own data access methods.
// </auto-generated>
//------------------------------------------------------------------------------ 
	
namespace CurrentDesk.Repository.CurrentDesk
{   
	public class ErrorLogBO
	{
        /// <summary>
        /// This function will insert new Error
        /// </summary>
        /// <returns></returns>
        public void AddNewError(ErrorLog newError)
        {
            try
            {
                using (var unitOfWork = new EFUnitOfWork())
                {
                    var errorLogRepo =
                        new ErrorLogRepository(new EFRepository<ErrorLog>(), unitOfWork);

                    errorLogRepo.Add(newError);
                    errorLogRepo.Save();
                }
            }
            catch(Exception ex)
            {
                //Send mail                
            }
        }
		
	}
}